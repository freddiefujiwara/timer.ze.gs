<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Timer App</title>
  <link href="css/bootstrap.min.css" rel="stylesheet" type=
  "text/css" />
  <style type="text/css">
/*<![CDATA[*/
    body{
      padding-top:20px;
      padding-bottom:40px;
    }
    /*Customcontainer*/
    .container-narrow{
      margin:0 auto;
      max-width:700px;
    }
    .container-narrow>hr{
      margin:30px 0;
    }

    .jumbotron{
      margin:60px 0;
      text-align:center;
    }
    .jumbotron.btn{
      font-size:21px;
      padding:14px 24px;
    }
    div.buttondiv{
	    margin-left:2em
    }
  /*]]>*/
  </style>
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet"
  type="text/css" />
  <meta name="viewport" content=
  "width=device-width,initial-scale=1.0" />
</head>

<body>
  <div class="container-narrow">
    <div class="masthead">
      <ul class="nav nav-pills pull-right">
        <li class="active"><a href="./">Clear</a></li>
      </ul>

      <h3 class="muted">Timer App</h3>
    </div>
    <hr />

    <div class="jumbotron">
      <select class="min" id="min">
        <option>
          00
        </option>

        <option>
          01
        </option>

        <option>
          02
        </option>

        <option>
          03
        </option>

        <option>
          04
        </option>

        <option>
          05
        </option>

        <option>
          06
        </option>

        <option>
          07
        </option>

        <option>
          08
        </option>

        <option>
          09
        </option>

        <option>
          10
        </option>

        <option>
          11
        </option>

        <option>
          12
        </option>

        <option>
          13
        </option>

        <option>
          14
        </option>

        <option>
          15
        </option>

        <option>
          16
        </option>

        <option>
          17
        </option>

        <option>
          18
        </option>

        <option>
          19
        </option>

        <option>
          20
        </option>

        <option>
          21
        </option>

        <option>
          22
        </option>

        <option>
          23
        </option>

        <option>
          24
        </option>

        <option>
          25
        </option>

        <option>
          26
        </option>

        <option>
          27
        </option>

        <option>
          28
        </option>

        <option>
          29
        </option>

        <option>
          30
        </option>

        <option>
          31
        </option>

        <option>
          32
        </option>

        <option>
          33
        </option>

        <option>
          34
        </option>

        <option>
          35
        </option>

        <option>
          36
        </option>

        <option>
          37
        </option>

        <option>
          38
        </option>

        <option>
          39
        </option>

        <option>
          40
        </option>

        <option>
          41
        </option>

        <option>
          42
        </option>

        <option>
          43
        </option>

        <option>
          44
        </option>

        <option>
          45
        </option>

        <option>
          46
        </option>

        <option>
          47
        </option>

        <option>
          48
        </option>

        <option>
          49
        </option>

        <option>
          50
        </option>

        <option>
          51
        </option>

        <option>
          52
        </option>

        <option>
          53
        </option>

        <option>
          54
        </option>

        <option>
          55
        </option>

        <option>
          56
        </option>

        <option>
          57
        </option>

        <option>
          58
        </option>

        <option>
          59
        </option>
      </select>:<select class="sec" id="sec">
        <option>
          00
        </option>

        <option>
          01
        </option>

        <option>
          02
        </option>

        <option>
          03
        </option>

        <option>
          04
        </option>

        <option>
          05
        </option>

        <option>
          06
        </option>

        <option>
          07
        </option>

        <option>
          08
        </option>

        <option>
          09
        </option>

        <option>
          10
        </option>

        <option>
          11
        </option>

        <option>
          12
        </option>

        <option>
          13
        </option>

        <option>
          14
        </option>

        <option>
          15
        </option>

        <option>
          16
        </option>

        <option>
          17
        </option>

        <option>
          18
        </option>

        <option>
          19
        </option>

        <option>
          20
        </option>

        <option>
          21
        </option>

        <option>
          22
        </option>

        <option>
          23
        </option>

        <option>
          24
        </option>

        <option>
          25
        </option>

        <option>
          26
        </option>

        <option>
          27
        </option>

        <option>
          28
        </option>

        <option>
          29
        </option>

        <option>
          30
        </option>

        <option>
          31
        </option>

        <option>
          32
        </option>

        <option>
          33
        </option>

        <option>
          34
        </option>

        <option>
          35
        </option>

        <option>
          36
        </option>

        <option>
          37
        </option>

        <option>
          38
        </option>

        <option>
          39
        </option>

        <option>
          40
        </option>

        <option>
          41
        </option>

        <option>
          42
        </option>

        <option>
          43
        </option>

        <option>
          44
        </option>

        <option>
          45
        </option>

        <option>
          46
        </option>

        <option>
          47
        </option>

        <option>
          48
        </option>

        <option>
          49
        </option>

        <option>
          50
        </option>

        <option>
          51
        </option>

        <option>
          52
        </option>

        <option>
          53
        </option>

        <option>
          54
        </option>

        <option>
          55
        </option>

        <option>
          56
        </option>

        <option>
          57
        </option>

        <option>
          58
        </option>

        <option>
          59
        </option>
      </select>

      <div class="buttondiv">
        <span class="btn btn-large btn-success" id="start" name=
        "start">Start</span>
      </div>
    </div>
    <hr />

    <div class="footer">
      <p>&copy;timer.ze.gs</p>
    </div><script src="js/jquery.js" type="text/javascript">
</script><script src="js/bootstrap.min.js" type="text/javascript">
</script><script type="text/javascript">
//<![CDATA[
$(document).ready(function(){
    //count down
    var interval = null;
    var doTimer = function(endTime){
      $('#start').attr("class","btn btn-large btn-success disabled");
      var leftTime = endTime - parseInt((new Date)/1000);
      if(0 < leftTime){
        //count down
        document.getElementById("audio").pause();
        var min = parseInt(leftTime / 60);
        min = min > 9 ? min : "0" + min;
        var sec = leftTime - (min * 60);
        sec = sec > 9 ? sec : "0" + sec;
        $("#min").val(min);
        $("#sec").val(sec);
        document.title = min+":"+sec;
        return;
      }
      //alerm start
      document.getElementById("audio").play();
      clearInterval(interval);
      $("#min").val("00");
      $("#sec").val("00");
      document.title = "END";
      $('#start').attr("class","btn btn-large btn-success");
      $('#start').click(startTimer);
    };

    var startTimer = function(){
      var min = parseInt($("#min").val());
      var sec = parseInt($("#sec").val());
      var endTime = document.location.hash = parseInt((new Date)/1000) + min * 60 + sec;
      doTimer(endTime);
      clearInterval(interval);
      interval = setInterval(function(){ doTimer(endTime);},1000);
      $('#start').unbind("click");
    };

    if(!(parseInt(document.location.hash.replace("#","")) > parseInt((new Date)/1000))){
      $('#start').click(startTimer);
    }else{
    var endTime = parseInt(document.location.hash.replace("#",""));
      doTimer(endTime);
      setInterval(function(){ doTimer(endTime);},1000);
    }
});
    //]]>
    </script>
  </div>
<audio controls="controls" id="audio" style="display:none;visibility:hidden">
  <source src="media/alerm.ogg" type="audio/ogg">
  <source src="media/alerm.mp3" type="audio/mp3">
</audio>
</body>
</html>
